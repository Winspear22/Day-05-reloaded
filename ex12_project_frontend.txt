================================================================================
PROJECT STRUCTURE OVERVIEW - ex12
================================================================================

Root Directory: ./ex12/

./ex12
â”œâ”€â”€ bin
â”‚Â Â  â””â”€â”€ console
â”œâ”€â”€ composer.json
â”œâ”€â”€ composer.lock
â”œâ”€â”€ config
â”‚Â Â  â”œâ”€â”€ bundles.php
â”‚Â Â  â”œâ”€â”€ packages
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ cache.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ doctrine_migrations.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ doctrine.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ framework.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ routing.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ twig.yaml
â”‚Â Â  â”‚Â Â  â””â”€â”€ validator.yaml
â”‚Â Â  â”œâ”€â”€ preload.php
â”‚Â Â  â”œâ”€â”€ routes
â”‚Â Â  â”‚Â Â  â””â”€â”€ framework.yaml
â”‚Â Â  â”œâ”€â”€ routes.yaml
â”‚Â Â  â””â”€â”€ services.yaml
â”œâ”€â”€ migrations
â”‚Â Â  â””â”€â”€ Version20251111121039.php
â”œâ”€â”€ public
â”‚Â Â  â”œâ”€â”€ index.php
â”‚Â Â  â””â”€â”€ style.css
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ Controller
â”‚Â Â  â”‚Â Â  â””â”€â”€ Ex12Controller.php
â”‚Â Â  â”œâ”€â”€ DataFixtures
â”‚Â Â  â”‚Â Â  â””â”€â”€ AppFixtures.php
â”‚Â Â  â”œâ”€â”€ DTO
â”‚Â Â  â”‚Â Â  â””â”€â”€ SearchRequest.php
â”‚Â Â  â”œâ”€â”€ Entity
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Address.php
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BankAccount.php
â”‚Â Â  â”‚Â Â  â””â”€â”€ Person.php
â”‚Â Â  â”œâ”€â”€ Kernel.php
â”‚Â Â  â”œâ”€â”€ Repository
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AddressRepository.php
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BankAccountRepository.php
â”‚Â Â  â”‚Â Â  â””â”€â”€ PersonRepository.php
â”‚Â Â  â””â”€â”€ Service
â”‚Â Â      â”œâ”€â”€ CreateTableService.php
â”‚Â Â      â”œâ”€â”€ DeleteTableService.php
â”‚Â Â      â”œâ”€â”€ LoadDemoDataService.php
â”‚Â Â      â”œâ”€â”€ UtilsTableService.php
â”‚Â Â      â””â”€â”€ ValidationQueryService.php
â”œâ”€â”€ symfony.lock
â”œâ”€â”€ templates
â”‚Â Â  â”œâ”€â”€ base.html.twig
â”‚Â Â  â”œâ”€â”€ bundles
â”‚Â Â  â”‚Â Â  â””â”€â”€ TwigBundle
â”‚Â Â  â””â”€â”€ ex12
â”‚Â Â      â””â”€â”€ index.html.twig
â”œâ”€â”€ var
â”‚Â Â  â”œâ”€â”€ cache
â”‚Â Â  â”‚Â Â  â””â”€â”€ prod
â”‚Â Â  â””â”€â”€ log
â””â”€â”€ vendor
    â”œâ”€â”€ autoload.php
    â”œâ”€â”€ autoload_runtime.php
    â”œâ”€â”€ bin
    â”‚Â Â  â”œâ”€â”€ doctrine-migrations
    â”‚Â Â  â”œâ”€â”€ patch-type-declarations
    â”‚Â Â  â”œâ”€â”€ php-parse
    â”‚Â Â  â”œâ”€â”€ sql-formatter
    â”‚Â Â  â”œâ”€â”€ var-dump-server
    â”‚Â Â  â””â”€â”€ yaml-lint
    â”œâ”€â”€ composer
    â”‚Â Â  â”œâ”€â”€ autoload_classmap.php
    â”‚Â Â  â”œâ”€â”€ autoload_files.php
    â”‚Â Â  â”œâ”€â”€ autoload_namespaces.php
    â”‚Â Â  â”œâ”€â”€ autoload_psr4.php
    â”‚Â Â  â”œâ”€â”€ autoload_real.php
    â”‚Â Â  â”œâ”€â”€ autoload_static.php
    â”‚Â Â  â”œâ”€â”€ ClassLoader.php
    â”‚Â Â  â”œâ”€â”€ installed.json
    â”‚Â Â  â”œâ”€â”€ installed.php
    â”‚Â Â  â”œâ”€â”€ InstalledVersions.php
    â”‚Â Â  â”œâ”€â”€ LICENSE
    â”‚Â Â  â””â”€â”€ platform_check.php
    â”œâ”€â”€ doctrine
    â”‚Â Â  â”œâ”€â”€ annotations
    â”‚Â Â  â”œâ”€â”€ collections
    â”‚Â Â  â”œâ”€â”€ data-fixtures
    â”‚Â Â  â”œâ”€â”€ dbal
    â”‚Â Â  â”œâ”€â”€ deprecations
    â”‚Â Â  â”œâ”€â”€ doctrine-bundle
    â”‚Â Â  â”œâ”€â”€ doctrine-fixtures-bundle
    â”‚Â Â  â”œâ”€â”€ doctrine-migrations-bundle
    â”‚Â Â  â”œâ”€â”€ event-manager
    â”‚Â Â  â”œâ”€â”€ inflector
    â”‚Â Â  â”œâ”€â”€ instantiator
    â”‚Â Â  â”œâ”€â”€ lexer
    â”‚Â Â  â”œâ”€â”€ migrations
    â”‚Â Â  â”œâ”€â”€ orm
    â”‚Â Â  â”œâ”€â”€ persistence
    â”‚Â Â  â””â”€â”€ sql-formatter
    â”œâ”€â”€ fakerphp
    â”‚Â Â  â””â”€â”€ faker
    â”œâ”€â”€ nikic
    â”‚Â Â  â””â”€â”€ php-parser
    â”œâ”€â”€ psr
    â”‚Â Â  â”œâ”€â”€ cache
    â”‚Â Â  â”œâ”€â”€ container
    â”‚Â Â  â”œâ”€â”€ event-dispatcher
    â”‚Â Â  â””â”€â”€ log
    â”œâ”€â”€ symfony
    â”‚Â Â  â”œâ”€â”€ asset
    â”‚Â Â  â”œâ”€â”€ cache
    â”‚Â Â  â”œâ”€â”€ cache-contracts
    â”‚Â Â  â”œâ”€â”€ config
    â”‚Â Â  â”œâ”€â”€ console
    â”‚Â Â  â”œâ”€â”€ dependency-injection
    â”‚Â Â  â”œâ”€â”€ deprecation-contracts
    â”‚Â Â  â”œâ”€â”€ doctrine-bridge
    â”‚Â Â  â”œâ”€â”€ dotenv
    â”‚Â Â  â”œâ”€â”€ error-handler
    â”‚Â Â  â”œâ”€â”€ event-dispatcher
    â”‚Â Â  â”œâ”€â”€ event-dispatcher-contracts
    â”‚Â Â  â”œâ”€â”€ filesystem
    â”‚Â Â  â”œâ”€â”€ finder
    â”‚Â Â  â”œâ”€â”€ flex
    â”‚Â Â  â”œâ”€â”€ form
    â”‚Â Â  â”œâ”€â”€ framework-bundle
    â”‚Â Â  â”œâ”€â”€ http-foundation
    â”‚Â Â  â”œâ”€â”€ http-kernel
    â”‚Â Â  â”œâ”€â”€ maker-bundle
    â”‚Â Â  â”œâ”€â”€ options-resolver
    â”‚Â Â  â”œâ”€â”€ polyfill-intl-grapheme
    â”‚Â Â  â”œâ”€â”€ polyfill-intl-icu
    â”‚Â Â  â”œâ”€â”€ polyfill-intl-normalizer
    â”‚Â Â  â”œâ”€â”€ polyfill-mbstring
    â”‚Â Â  â”œâ”€â”€ polyfill-php83
    â”‚Â Â  â”œâ”€â”€ polyfill-php84
    â”‚Â Â  â”œâ”€â”€ process
    â”‚Â Â  â”œâ”€â”€ property-access
    â”‚Â Â  â”œâ”€â”€ property-info
    â”‚Â Â  â”œâ”€â”€ routing
    â”‚Â Â  â”œâ”€â”€ runtime
    â”‚Â Â  â”œâ”€â”€ service-contracts
    â”‚Â Â  â”œâ”€â”€ stopwatch
    â”‚Â Â  â”œâ”€â”€ string
    â”‚Â Â  â”œâ”€â”€ translation-contracts
    â”‚Â Â  â”œâ”€â”€ twig-bridge
    â”‚Â Â  â”œâ”€â”€ twig-bundle
    â”‚Â Â  â”œâ”€â”€ validator
    â”‚Â Â  â”œâ”€â”€ var-dumper
    â”‚Â Â  â”œâ”€â”€ var-exporter
    â”‚Â Â  â””â”€â”€ yaml
    â””â”€â”€ twig
        â”œâ”€â”€ extra-bundle
        â””â”€â”€ twig

96 directories, 56 files

================================================================================

ğŸ“‚ TEMPLATE FILES (templates/) - Location: ex12/templates/
================================================================================


---
File: templates/base.html.twig
---

<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>âš«ï¸</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('style.css') }}">
        {% endblock %}

        {% block javascripts %}
        {% endblock %}
    </head>
    <body>
    {% block body %}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ label }}">{{ message }}</div>
            {% endfor %}
        {% endfor %}

        {% block content %}{% endblock %}
    {% endblock %}
    </body>
</html>


---
File: templates/bundles/TwigBundle/Exception/error404.html.twig
---

{% extends 'base.html.twig' %}

{% block title %}Page non trouvÃ©e (404){% endblock %}

{% block content %}
    <div class="error-container">
        <h1>Erreur 404</h1>
        <p>DÃ©solÃ©, la page que vous cherchez n'existe pas !</p>
        <p>Ceci est un message d'erreur personnalisÃ©.</p>
        <a class="back-btn" href="{{ path('ex12_index') }}">Revenir Ã  l'accueil</a>
    </div>
{% endblock %}


---
File: templates/bundles/TwigBundle/Exception/error405.html.twig
---

{% extends 'base.html.twig' %}

{% block title %}MÃ©thode non autorisÃ©e (405){% endblock %}

{% block content %}
    <div class="error-container">
        <h1>Erreur 405</h1>
        <p>DÃ©solÃ©, la mÃ©thode que vous utilisez n'est pas autorisÃ©e !</p>
        <p>Vous tentez d'utiliser une route POST avec une mÃ©thode GET !</p>
        <p>Ceci est un message d'erreur personnalisÃ©.</p>
        <a class="back-btn" href="{{ path('ex12_index') }}">Revenir Ã  l'accueil</a>
    </div>
{% endblock %}

---
File: templates/ex12/index.html.twig
---

{% extends 'base.html.twig' %}

{% block title %}ex12 â€“ ORM Table Management{% endblock %}

{% block content %}
    <h1>ex12 â€“ ORM Table Management</h1>

    <div style="margin-bottom: 1em;">
        <form action="{{ path('ex12_create_all_tables') }}" method="post" style="display: inline;">
            <button type="submit" style="padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">
                âœ“ Create all tables
            </button>
        </form>

        <form action="{{ path('ex12_load_demo_data') }}" method="post" style="display: inline; margin-left: 10px;">
            <button type="submit" style="padding: 10px 20px; background: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer;">
                âš¡ Fill tables with random data
            </button>
        </form>

        <form action="{{ path('ex12_delete_all_tables_content') }}" method="post" style="display: inline; margin-left: 10px;">
            <button type="submit" style="padding: 10px 20px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;" onclick="return confirm('Are you sure?')">
                ğŸ—‘ï¸ Delete all data
            </button>
        </form>
    </div>

    <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; margin-bottom: 1.5em; border-left: 4px solid #6c757d;">
        <form method="get" action="{{ path('ex12_search') }}" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
            <div>
                <input type="text" name="filter_name" value="{{ filterName is defined ? filterName : '' }}" placeholder="Filter by name" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>

            <div>
                <select name="sort_by" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="name" {% if sortBy is defined and sortBy == 'name' %}selected{% endif %}>Name</option>
                    <option value="email" {% if sortBy is defined and sortBy == 'email' %}selected{% endif %}>Email</option>
                    <option value="birthdate" {% if sortBy is defined and sortBy == 'birthdate' %}selected{% endif %}>Birthdate</option>
                </select>
            </div>

            <div>
                <select name="sort_dir" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="asc" {% if sortDirection is defined and sortDirection == 'asc' %}selected{% endif %}>Ascending</option>
                    <option value="desc" {% if sortDirection is defined and sortDirection == 'desc' %}selected{% endif %}>Descending</option>
                </select>
            </div>

            <button type="submit" style="padding: 8px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
                ğŸ” Apply
            </button>
        </form>
    </div>

    <h2>Persons + Addresses + Bank Accounts</h2>
    
    {% if results is defined and results|length > 0 %}
        <div style="overflow-x: auto; margin-bottom: 2em;">
            <table border="1" style="width: 100%;">
                <thead style="background: #343a40; color: white;">
                    <tr>
                        <th style="padding: 10px;">Id</th>
                        <th style="padding: 10px;">Username</th>
                        <th style="padding: 10px;">Name</th>
                        <th style="padding: 10px;">Email</th>
                        <th style="padding: 10px;">Enable</th>
                        <th style="padding: 10px;">Birthdate</th>
                        <th style="padding: 10px;">Addresses</th>
                        <th style="padding: 10px;">IBAN</th>
                        <th style="padding: 10px;">Bank Name</th>
                    </tr>
                </thead>
                <tbody>
                    {% for person in results %}
                        <tr style="background: {% if loop.index % 2 == 0 %}#f9f9f9{% endif %};">
                            <td style="padding: 10px;"><strong>{{ person.id }}</strong></td>
                            <td style="padding: 10px;">{{ person.username }}</td>
                            <td style="padding: 10px;">{{ person.name }}</td>
                            <td style="padding: 10px;">{{ person.email }}</td>
                            <td style="padding: 10px;">{{ person.enable ? 'Yes' : 'No' }}</td>
                            <td style="padding: 10px;">{{ person.birthdate|date('d/m/Y') }}</td>
                            <td style="padding: 10px;">
                                {% if person.addresses|length > 0 %}
                                    {% for address in person.addresses %}
                                        {{ address.address }}<br>
                                    {% endfor %}
                                {% else %}
                                    N/A
                                {% endif %}
                            </td>
                            <td style="padding: 10px; font-family: monospace; font-size: 0.9em;">
                                {{ person.bankAccount ? person.bankAccount.iban : 'N/A' }}
                            </td>
                            <td style="padding: 10px;">
                                {{ person.bankAccount ? person.bankAccount.bank_name : 'N/A' }}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <p style="color: #666;">{{ totalResults is defined ? totalResults : results|length }} result(s) found</p>
    {% elseif results is defined %}
        <div style="background: #fff3cd; padding: 15px; border-radius: 4px; border-left: 4px solid #ffc107; margin: 20px 0;">
            âš ï¸ No data found. Please create tables and fill them with random data first!
        </div>
    {% else %}
        <div style="background: #d1ecf1; padding: 15px; border-radius: 4px; border-left: 4px solid #17a2b8; margin: 20px 0;">
            â„¹ï¸ Please create tables and load demo data to start!
        </div>
    {% endif %}

{% endblock %}

